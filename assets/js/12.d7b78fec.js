(window.webpackJsonp=window.webpackJsonp||[]).push([[12],{165:function(e,t,r){"use strict";r.r(t);var a=r(0),o=Object(a.a)({},function(){this.$createElement;this._self._c;return this._m(0)},[function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"content"},[r("h1",{attrs:{id:"server-networks"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#server-networks","aria-hidden":"true"}},[e._v("#")]),e._v(" Server Networks")]),e._v(" "),r("p"),r("div",{staticClass:"table-of-contents"},[r("ul",[r("li",[r("a",{attrs:{href:"#setting-up-a-bungeecord-network"}},[e._v("Setting up a BungeeCord network")]),r("ul",[r("li",[r("a",{attrs:{href:"#adding-servers-to-the-bungeecord-network"}},[e._v("Adding servers to the BungeeCord network")])])])]),r("li",[r("a",{attrs:{href:"#notes"}},[e._v("Notes")]),r("ul",[r("li",[r("a",{attrs:{href:"#ufw-firewall"}},[e._v("UFW Firewall")])])])])])]),r("p"),e._v(" "),r("div",{staticClass:"warning custom-block"},[r("p",{staticClass:"custom-block-title"},[e._v("WARNING")]),e._v(" "),r("p",[e._v("This guide was written with BungeeCord in mind, but should work for Waterfall and Hexacord as well."),r("br"),e._v("\nFor the setup described below, it is necessary that all servers are on the same node.")])]),e._v(" "),r("h2",{attrs:{id:"setting-up-a-bungeecord-network"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#setting-up-a-bungeecord-network","aria-hidden":"true"}},[e._v("#")]),e._v(" Setting up a BungeeCord network")]),e._v(" "),r("p",[e._v("The ideal setup with BungeeCord is a seperated internal network with only one access point which is the BungeeCord server. Pterodactyl provides this with Docker.\nIn order to create a BungeeCord network you'll have to add an allocation with which the BungeeCord server should be reachable. Add an allocation with the IP address of the node and the desired port (e.g. 25565, the default Minecraft port) to your node first.\nThen create a new BungeeCord server and use the allocation you just created.")]),e._v(" "),r("h3",{attrs:{id:"adding-servers-to-the-bungeecord-network"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#adding-servers-to-the-bungeecord-network","aria-hidden":"true"}},[e._v("#")]),e._v(" Adding servers to the BungeeCord network")]),e._v(" "),r("p",[e._v("All the other servers that should be part of the BungeeCord network don't require external ports. Create new allocations on the localhost IP address "),r("code",[e._v("127.0.0.1")]),e._v(" with some ports for the servers to use. You can also enter a port range, e.g. "),r("code",[e._v("30000-30010")]),e._v(" which will get you 11 ports."),r("br"),e._v("\nNow create new servers and be sure to use "),r("code",[e._v("127.0.0.1")]),e._v(" allocations for each of them. To add the servers to your BungeeCord network, use "),r("code",[e._v("172.18.0.1:<port of the internal server>")]),e._v(" (not 127.0.0.1) as the IP addresses of the servers to add in your configuration file.")]),e._v(" "),r("h2",{attrs:{id:"notes"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#notes","aria-hidden":"true"}},[e._v("#")]),e._v(" Notes")]),e._v(" "),r("ul",[r("li",[r("strong",[e._v("Only")]),e._v(" the proxy (Waterfall / Hexagon / Bungee) has to be bound to an external IP.")]),e._v(" "),r("li",[r("strong",[e._v("No modifications to iptables should be done")])]),e._v(" "),r("li",[e._v("all servers behind the proxy are safe.")])]),e._v(" "),r("h3",{attrs:{id:"ufw-firewall"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#ufw-firewall","aria-hidden":"true"}},[e._v("#")]),e._v(" UFW Firewall")]),e._v(" "),r("p",[e._v("If you are using the ufw firewall, it might be necessary to allow access to specific host ports. The following command allows incoming requests to "),r("code",[e._v("172.18.0.1")]),e._v(", which is the IP of the actual host server within the docker network. Replace "),r("code",[e._v("<LOCALHOST_PORT>")]),e._v(" with any port you want to be accessible. In this case use the port you assigned to the minecraft server you want to add.")]),e._v(" "),r("div",{staticClass:"language- extra-class"},[r("pre",{pre:!0,attrs:{class:"language-text"}},[r("code",[e._v("ufw allow in on pterodactyl0 to 172.18.0.1 port <LOCALHOST_PORT> proto tcp\n")])])]),r("div",{staticClass:"warning custom-block"},[r("p",{staticClass:"custom-block-title"},[e._v("WARNING")]),e._v(" "),r("p",[e._v("The ports you open with this command will be accessible by any server on the same node.")])])])}],!1,null,null,null);t.default=o.exports}}]);